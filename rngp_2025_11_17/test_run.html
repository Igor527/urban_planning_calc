<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç —Ä–∞—Å—á—ë—Ç–∞ –ø–∞—Ä–∫–æ–≤–æ–∫</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –¥–≤–∏–∂–æ–∫ -->
    <script src="parkingData.js"></script>
    <script src="mainEngine.js"></script>
</head>
<body>
    <h1>–¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ calculateParking</h1>
    <p>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12), —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.</p>

    <script>
        // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
        window.onload = function() {
            console.log("üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞...");

            // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
            const areaFlats = 15000;      // 15 000 –∫–≤.–º –∂–∏–ª—å—è
            const areaNNP = 1200;         // 1 200 –∫–≤.–º –∫–æ–º–º–µ—Ä—Ü–∏–∏
            const district = "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π"; // –†–∞–π–æ–Ω
            const ttk = "outside";        // –°–Ω–∞—Ä—É–∂–∏ –¢–¢–ö
            const metroDist = 800;        // 800 –º–µ—Ç—Ä–æ–≤ –¥–æ –º–µ—Ç—Ä–æ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å K1=0.75)
            const year = 2028;            // 2028 –≥–æ–¥ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å % –≠–ú = 15%)
            
            // –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞ (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –∑–∞–ø–æ–ª–Ω–∏–º –ø–∞—Ä—É –ø–æ–ª–µ–π)
            const f_zu_mo = 5;
            const f_uds_guest = 10;

            // –í–´–ó–û–í –§–£–ù–ö–¶–ò–ò
            // –ü–æ—Ä—è–¥–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:
            // areaFlats, areaNNP, districtName, ttkStatus, metroDistance, rnsYear,
            // fact_zu_mo, fact_zu_guest_mgn, fact_zu_priob_mgn, 
            // fact_uds_mo, fact_uds_guest, fact_uds_guest_mgn, fact_uds_priob, fact_uds_priob_mgn
            
            const result = calculateParking(
                areaFlats, 
                areaNNP, 
                district, 
                ttk, 
                metroDist, 
                year,
                f_zu_mo, 0, 0, 0, f_uds_guest, 0, 0, 0
            );

            // –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            console.log("üìä –†–µ–∑—É–ª—å—Ç–∞—Ç (–æ–±—ä–µ–∫—Ç):", result);
            
            console.log("\nüìã –¢–ï–ö–°–¢–û–í–´–ô –û–¢–ß–Å–¢:");
            console.log(result.report);

            console.log("\nüìâ –¢–ê–ë–õ–ò–¶–ê –†–ê–ó–ë–ò–í–ö–ò (–¢—Ä–µ–±—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç):");
            console.table(result.breakdowns.required);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π
            console.log("\nüîç –ü–†–û–í–ï–†–ö–ê:");
            console.log(`–ì–æ–¥: ${year}, –î–æ–ª—è –≠–ú –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 0.15. –†–∞—Å—á—ë—Ç–Ω–∞—è –¥–æ–ª—è: ${(result.values.N_ev / result.values.N_total).toFixed(2)}`);
            console.log(`–ú–µ—Ç—Ä–æ: ${metroDist}–º. K1 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0.75.`);
        };
    </script>
</body>
</html>