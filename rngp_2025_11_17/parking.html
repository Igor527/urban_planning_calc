<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–∞—à–∏–Ω–æ–º–µ—Å—Ç</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    
    <style>
        fieldset { margin-bottom: 2rem; }
        legend { font-size: 1.2rem; color: var(--primary); }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–æ–∫–∏ –ì–ò–° –∞–¥—Ä–µ—Å–∞ */
        #fullAddressRow {
            margin-bottom: 1rem; 
            padding: 0.75rem; 
            background: #f0f2f5; 
            border-radius: 8px; 
            border-left: 4px solid #10adff;
            font-size: 0.9rem;
        }
        #fullAddressOutput { font-weight: 600; color: #333; }

        #yandexLinkContainer { margin-bottom: 1.5rem; }
        
        .yandex-card {
            padding: 1rem;
            background: #f8f9fa;
            border: 1px dashed #bbc1c7;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .yandex-btn {
            background-color: #ffcc00 !important;
            color: #000 !important;
            border: none !important;
            padding: 8px 16px !important;
            font-weight: 600 !important;
            text-decoration: none !important;
            border-radius: 6px !important;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>

<main class="container">
    <article>
        <header>
            <h2 style="margin:0">–í–≤–æ–¥ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞</h2>
        </header>

        <form id="parkingForm">
            <fieldset>
                <legend><strong>1. –û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—ä–µ–∫—Ç–µ</strong></legend>
                
                <label>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
                    <input type="text" id="objName" placeholder="–ù–∞–ø—Ä: –∂–∏–ª–æ–π –∫–æ—Ä–ø—É—Å 1">
                </label>

                <label>–ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É
                    <input type="text" id="objAddress" placeholder="–ù–∞–ø—Ä: —É–ª. –ú–∞—Ä—à–∞–ª–∞ –ö–∞—Ç—É–∫–æ–≤–∞, 24">
                    <small>–†–∞–π–æ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤–≤–æ–¥–µ –∞–¥—Ä–µ—Å–∞</small>
                </label>

                <div id="fullAddressRow">
                    <small style="color: #666; display: block; margin-bottom: 2px;">–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞ (–ø–æ–ª—É—á–µ–Ω –ø–æ –ì–ò–°):</small>
                    <div id="fullAddressOutput">–û–∂–∏–¥–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞...</div>
                </div>

                <div id="yandexLinkContainer"></div>

                <div class="grid">
                    <label for="districtSelect">–†–∞–π–æ–Ω –ú–æ—Å–∫–≤—ã
                        <select id="districtSelect" onchange="calculate()">
                            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω...</option>
                        </select>
                    </label>
            
                    <label for="ttkPos">–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¢–¢–ö
                        <select id="ttkPos" onchange="calculate()">
                            <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –æ–ø—Ü–∏–∏ -->
                        </select>
                    </label>
                </div>
            
                <div class="grid">
                    <label for="metroAccess">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–µ—Ç—Ä–æ/–ú–¶–ö/–ú–¶–î
                        <select id="metroAccess" onchange="calculate()"></select>
                    </label>
                
                    <label for="rnsYear">–ì–æ–¥ –†–ù–°
                        <select id="rnsYear" onchange="calculate()">
                            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ–¥...</option>
                        </select>
                    </label>
                </div>
            </fieldset>

            <fieldset>
                <legend><strong>2. –¢–µ—Ö–Ω–∏–∫–æ-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–¢–≠–ü)</strong></legend>
                <div class="grid">
                    <label>–ü–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞, –∫–≤.–º
                        <input type="number" id="areaSite" value="0" step="0.01" oninput="calculate()">
                    </label>
                    <label>–ü–ª–æ—â–∞–¥—å –∫–≤–∞—Ä—Ç–∏—Ä (S–æ–±.–∫–≤.), –∫–≤.–º
                        <input type="number" id="areaFlats" value="0" step="0.1" oninput="calculate()">
                    </label>
                </div>
                <div class="grid">
                    <label>–ü–ª–æ—â–∞–¥—å –ù–ü–ö–ò (S–Ω–ø–∫–∏), –∫–≤.–º
                        <input type="number" id="areaNPKI" value="0" step="0.1" oninput="calculate()">
                    </label>
                    <label>–ü–ª–æ—â–∞–¥—å –ù–ù–ü, –∫–≤.–º
                        <input type="number" id="areaNNP" value="0" step="0.1" oninput="calculate()">
                    </label>
                </div>
                <!-- –∏–º—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞? -->
                <div class="grid">

                    <label>–£–¥. –∂–∏–ª. –æ–±–µ—Å–ø. (–∫–≤.–º/—á–µ–ª)
                        <input type="number" id="specLiving" value="28" oninput="calculate()">
                    </label>
                    <label>–°–æ—Ç—Ä./–ø–æ—Å. –ù–ü–ö–ò (–∫–≤.–º/—á–µ–ª)
                        <input type="number" id="specStaff" value="20" oninput="calculate()">
                    </label>
                </div>
            </fieldset>

            <fieldset>
                <legend><strong>3. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã–µ —Å—Ç–æ—è–Ω–∫–∏ (–º/–º)</strong></legend>
                <div class="grid">
                    <div>
                        <small><strong>–ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ —É—á–∞—Å—Ç–∫–∞ (–ó–£):</strong></small>
                        <input type="number" id="fact_zu_mo" placeholder="–ú–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏" value="0" oninput="calculate()">
                        <input type="number" id="fact_zu_guest_mgn" placeholder="–ì–æ—Å—Ç–µ–≤—ã–µ –ú–ì–ù" value="0" oninput="calculate()">
                        <input type="number" id="fact_zu_priob_mgn" placeholder="–ü—Ä–∏–æ–±—ä–µ–∫—Ç–Ω—ã–µ –ú–ì–ù" value="0" oninput="calculate()">
                    </div>
                    <div>
                        <small><strong>–ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –£–î–°:</strong></small>
                        <input type="number" id="fact_uds_mo" placeholder="–ú–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫" value="0" oninput="calculate()">
                        <div class="grid">
                            <input type="number" id="fact_uds_guest" placeholder="–ì–æ—Å—Ç." value="0" oninput="calculate()">
                            <input type="number" id="fact_uds_guest_mgn" placeholder="–ì–æ—Å—Ç. –ú–ì–ù" value="0" oninput="calculate()">
                        </div>
                        <div class="grid">
                            <input type="number" id="fact_uds_priob" placeholder="–ü—Ä–∏–æ–±." value="0" oninput="calculate()">
                            <input type="number" id="fact_uds_priob_mgn" placeholder="–ü—Ä–∏–æ–±. –ú–ì–ù" value="0" oninput="calculate()">
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>
    </article>
</main>

<script src="parkingData.js" defer></script>
<script src="parkingEngine.js" defer></script>

<script>
    // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ (–±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–ª–µ–π)
    function calculate() {
        const district = document.getElementById('districtSelect')?.value;
        console.log("üìä === –¢–†–ò–ì–ì–ï–† –†–ê–°–ß–ï–¢–ê ===");
        console.log("–í—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–π–æ–Ω:", district || "–Ω–µ –≤—ã–±—Ä–∞–Ω");
        console.log("üìä === –ö–û–ù–ï–¶ –¢–†–ò–ì–ì–ï–†–ê ===");
    }
</script>

</body>
</html>